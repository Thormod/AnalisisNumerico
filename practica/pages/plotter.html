<html>
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
	<title>NAnalizer v.2 -Plotter</title>

	<!-- Custom CSS -->
	<link href="../dist/css/sb-admin-2.css" rel="stylesheet">
	<!-- Bootstrap latest CSS (Online catch) -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
	<!-- Custom fonts (online catch) -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

    <link rel="stylesheet" type="text/css" href="../bower_components/bootstrap-color-pick/css/bootstrap-colorpicker.css">
    <link rel="stylesheet" type="text/css" href="../bower_components/bootstrap-color-pick/css/bootstrap-colorpicker.min.css">

	<style type="text/css" media="screen">
		/* enable absolute positioning */
        .inner-addon { 
            position: relative; 
            color: #fff;
        }

        /* style icon */
        .inner-addon .glyphicon {
        	width: 60px;
          position: absolute;
          padding: 10px;
          pointer-events: none;
        }

        /* align icon */
        .left-addon .glyphicon  { left:  0px;}
        .right-addon .glyphicon { right: 0px;}

        /* add padding  */
        .left-addon input  { padding-left:  30px; }
        .right-addon input { padding-right: 30px; }
	</style>			
</head>
<body>
     <div id="wrapper">
          <!-- Navigation -->
          <nav class="navbar navbar-default navbar-fixed-top" role="navigation" style="margin-bottom: 0">
             <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">NAnalizer v.2 - Plotter</a>
             </div>
             <!-- /.navbar-header -->

             <!-- /.navbar-top-links -->
             <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                   <ul class="nav" id="side-menu">
                      <li>
                         <a href="one-variable-equation.html"><i class="fa fa-superscript fa-fw"></i> One variable equation</a>
                         <a href="#incremental"><i class="fa fa-television fa-fw"></i> Equation systems</a>                       
                      </li>
                   </ul>
                </div>
                <!-- /.sidebar-collapse -->
             </div>
             <!-- /.navbar-static-side -->
          </nav>
          <div id="page-wrapper" style="margin-top: 20px;">
          <div class="row" id="equation">
             <div class="col-lg-12">
                <h1 class="page-header">Plotter</h1>
             </div>
             <!-- /.col-lg-12 -->
          </div>
            <div class="row">
            <div class="col-lg-4">

        	<div class="panel panel-default">
                <div class="panel-heading">
                   <i class="fa fa-calculator fa-fw"></i> Equation
                </div><!-- /.panel-heading -->
                <div class="panel-body">
        	        
                    <div class="list-group" id="graphs">
        	        	<span>Equation:</span>
        	            <textarea class="form-control" rows="3" id="input"></textarea>
                        <span>Pick a color:</span>
                        <div class="input-group demo2">
                            <input type="text" value="000" class="form-control" id="equation-color"/>
                            <span class="input-group-addon"><i></i></span>
                        </div>
        	        </div>            
        	        
        	        <div class="inner-addon left-addon">
        			    <i class="glyphicon glyphicon-plus"></i>
        			    <input type="button" class="btn btn-primary btn-lg btn-block" value="Add More" name="" id="add-graph" />
        			</div>
                    <hr>
                    <input type="button" class="btn btn-primary btn-lg btn-block" name="" id="but" value="Graph">
                     <a href="" class="pull-right" data-toggle="modal" data-target="#plotter-modal">Help <i class="fa fa-question-circle"></i></a>
        	    </div>
            </div>
            
            </div>

            <div class="col-lg-8">
        	<div class="panel panel-default">
                <div class="panel-heading">
                   <i class="fa fa-bar-chart-o fa-fw"></i> Chart (By FooPlot):
                </div><!-- /.panel-heading -->
                <div class="panel-body">
                   <div id="myPlot" style="width:650px;height:330px;"></div>
                </div><!-- /.panel-body -->
            </div><!-- /.panel -->

            </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
     <!-- Plotter modal -->
      <div class="modal fade" id="plotter-modal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title">Plotter - HELP</h4>
            </div>
            <div class="modal-body">
              <p></p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->
      <!-- /Plotter modal -->
    <!-- /Modals -->

    <!-- jQuery -->
    <script src="../bower_components/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- Fooplot JavaScript -->
    <script src="../js/fooplot.js"></script>

    <script src="../bower_components/bootstrap-color-pick/js/bootstrap-colorpicker.js" type="text/javascript"></script>
    <script src="../bower_components/bootstrap-color-pick/js/bootstrap-colorpicker.min.js" type="text/javascript"></script>


    <script type="text/javascript">
	var nextInput = 0;
	$("#but").on("click", function(event) {
		var equation = $("#input").val();
		var equation_color = $("#equation-color").val();

        myPlot = new Fooplot(document.getElementById('myPlot'));
        myPlot.addPlot(equation, FOOPLOT_TYPE_FUNCTION, {'color': equation_color});

		for (var i = nextInput-1; i >= 0; i--) {
            equation = $("#input"+i).val();
            equation_color = $("#equation-color"+i).val();
            myPlot.addPlot(equation, FOOPLOT_TYPE_FUNCTION,{'color': equation_color});
        };
       
        myPlot.reDraw();
        
    });

    $("#add-graph").on("click", function(event) {
    	var equ = '<span> Equation '+nextInput+':</span>';
    	$("#graphs").append(equ);
    	equ = '<textarea class="form-control" rows="3" id=input'+nextInput+ ' value="asdasd"></textarea> ';
    	$("#graphs").append(equ);
        equ = '<span>Pick a color:</span>';
        $("#graphs").append(equ);
        equ = '<div class="input-group demo2 colorpicker-element" id="equation-form"><input type="text" value="000" class="form-control" id="equation-color'+nextInput+'"/><span class="input-group-addon"><i></i></span></div>';
        $("#graphs").append(equ);

        $('.demo2').colorpicker();
    	nextInput++;
    });

    $(function(){
        $('.demo2').colorpicker();
    });

	</script>
</body>
</html>